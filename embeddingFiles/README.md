# 聲紋嵌入向量檔案 (歷史存儲)

本資料夾為 v3 版本系統使用的聲紋嵌入向量儲存目錄，主要以檔案系統方式儲存和管理語者特徵向量。在當前 v5 版本系統中，此資料夾僅作為歷史資料保存使用。

## 資料結構說明

此目錄採用以下結構組織聲紋資料：

```
embeddingFiles/
  ├── 0003/                   # 說話者 ID (隨機產生的4位數字)
  │    ├── 20230510-001.npy   # 聲紋向量檔案 (日期-序號)
  │    ├── 20230510-002.npy
  │    └── ...
  ├── 0009/
  │    ├── 20230512-001.npy
  │    └── ...
  └── ...
```

每個說話者資料夾下的 `.npy` 檔案為 NumPy 儲存格式，包含 192 維的特徵向量，代表該說話者的聲音特徵。

## 資料遷移到 Weaviate

在 v5 版本中，所有特徵向量已遷移至 Weaviate 向量資料庫。若要將此目錄中的歷史資料匯入到資料庫，請使用以下工具：

```bash
python weaviate_study/npy_to_weaviate.py
```

此工具會掃描所有 `.npy` 檔案並匯入至 Weaviate，每個資料夾作為一個獨立說話者。

## 資料相容性

舊版資料與新版系統的相容性說明：

- 向量維度：v3 與 v5 版本都使用 192 維特徵向量，基本兼容
- 演算法改進：v5 版本在向量比對和更新策略上有優化，可能導致識別結果略有差異
- 資料品質：舊資料可用於初始化系統，但建議逐步添加新錄製的聲紋以獲得更準確的識別效果

## 注意事項

- 此資料夾現在僅作為備份和歷史資料保存，新的聲紋向量不再儲存於此
- 建議在系統穩定運行後，考慮將此資料夾歸檔或移除以節省空間
- 如果需要重新建立基於檔案的儲存系統，可參考 v3 版本的原始碼 (main_identify_v3.py)